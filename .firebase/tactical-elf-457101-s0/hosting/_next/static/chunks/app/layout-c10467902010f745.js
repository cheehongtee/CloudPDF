(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1577:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2093,23)),Promise.resolve().then(a.t.bind(a,7735,23)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,9576))},2093:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},6104:(e,t,a)=>{"use strict";a.d(t,{IG:()=>u,db:()=>d,j2:()=>c});var r=a(3915),o=a(5317),i=a(6203),s=a(858),l=a(8616);let n=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyDI7MAPqIvl1cCkwZl_Nr4bYmOArNzIqzM",authDomain:"tactical-elf-457101-s0.firebaseapp.com",projectId:"tactical-elf-457101-s0",storageBucket:"tactical-elf-457101-s0.firebasestorage.app",messagingSenderId:"695823233926",appId:"1:695823233926:web:aeac2bc2b5069d8baa7207",measurementId:"G-JQF8DMHYSF"}),d=(0,o.aU)(n),c=(0,i.xI)(n),u=(0,s.c7)(n);(0,l.FJ)(n)},7735:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}},9576:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,AuthProvider:()=>c});var r=a(5155),o=a(2115),i=a(6203),s=a(6104),l=a(5317);let n=(0,o.createContext)(void 0);function d(){let e=(0,o.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(e){let{children:t}=e,[a,d]=(0,o.useState)(null),[c,u]=(0,o.useState)(!0);(0,o.useEffect)(()=>(0,i.hg)(s.j2,e=>{d(e),u(!1)}),[]);let m=async(e,t)=>{try{let a=await (0,i.eJ)(s.j2,e,t),r=a.user;if(r){let e=(0,l.H9)(s.db,"users",r.uid);await (0,l.BN)(e,{uid:r.uid,email:r.email,createdAt:(0,l.O5)()}),console.log("User document created in Firestore for UID:",r.uid)}return a}catch(e){throw console.error("Registration and Firestore doc creation failed:",e),e}},b=async()=>{let e=new i.HF;try{let t=await (0,i.df)(s.j2,e),a=t.user;if(a){let e=(0,l.H9)(s.db,"users",a.uid);await (0,l.BN)(e,{uid:a.uid,email:a.email,displayName:a.displayName,photoURL:a.photoURL,createdAt:(0,l.O5)(),provider:"google.com"},{merge:!0}),console.log("User document updated/created in Firestore for Google Sign-In UID:",a.uid)}return t}catch(e){throw console.error("Google Sign-In failed:",e),e}};return(0,r.jsx)(n.Provider,{value:{user:a,loading:c,login:(e,t)=>(0,i.x9)(s.j2,e,t),register:m,logout:()=>(0,i.CI)(s.j2),loginWithGoogle:b},children:!c&&t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[360,992,158,542,441,684,358],()=>t(1577)),_N_E=e.O()}]);