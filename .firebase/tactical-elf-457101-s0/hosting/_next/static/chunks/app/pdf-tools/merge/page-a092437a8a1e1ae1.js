(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{3741:(e,r,t)=>{"use strict";t.d(r,{$:()=>a});var s=t(5155);function a(e){let{className:r,variant:t="default",size:a="default",children:l,...n}=e,d={default:"bg-blue-600 text-white hover:bg-blue-700/90 dark:bg-blue-500 dark:hover:bg-blue-400/90",outline:"border border-gray-300 dark:border-gray-600 bg-transparent hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100",ghost:"hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"},i={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"},o=d[t]||d.default,c=i[a]||i.default;return(0,s.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background dark:focus-visible:ring-offset-gray-800"," ").concat(o," ").concat(c," ").concat(r).trim(),...n,children:l})}t(2115)},5273:(e,r,t)=>{Promise.resolve().then(t.bind(t,8549))},5494:(e,r,t)=>{"use strict";t.d(r,{A:()=>m});var s=t(5155),a=t(6874),l=t.n(a),n=t(9576),d=t(5695),i=t(7434),o=t(3783),c=t(3428),x=t(3408),u=t(4835);function m(){let{user:e,logout:r}=(0,n.A)(),t=(0,d.useRouter)(),a=async()=>{try{await r(),t.push("/auth/login")}catch(e){console.error("Failed to log out",e)}};return(0,s.jsx)("nav",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)(l(),{href:"/",className:"flex items-center space-x-2 text-2xl font-bold text-blue-600 dark:text-blue-400",children:[(0,s.jsx)(i.A,{size:24}),(0,s.jsx)("span",{children:"CloudPDF"})]}),e&&(0,s.jsxs)("div",{className:"hidden md:flex space-x-1 items-center border-l border-gray-200 dark:border-gray-700 pl-4",children:[(0,s.jsxs)(g,{href:"/dashboard",children:[(0,s.jsx)(o.A,{size:18,className:"mr-1"}),"Dashboard"]}),(0,s.jsxs)(g,{href:"/pdf-viewer",children:[(0,s.jsx)(i.A,{size:18,className:"mr-1"}),"Viewer"]}),(0,s.jsxs)(g,{href:"/pdf-tools/merge",children:[(0,s.jsx)(c.A,{size:18,className:"mr-1"}),"Merge"]}),(0,s.jsxs)(g,{href:"/pdf-tools/split",children:[(0,s.jsx)(x.A,{size:18,className:"mr-1"}),"Split"]})]})]}),(0,s.jsx)("div",{className:"flex items-center",children:e?(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("span",{className:"hidden sm:inline text-sm text-gray-600 dark:text-gray-300",children:e.email}),(0,s.jsx)("button",{onClick:a,title:"Logout",className:"flex items-center p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:(0,s.jsx)(u.A,{size:20})})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l(),{href:"/auth/login",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors rounded-md",children:"Login"}),(0,s.jsx)(l(),{href:"/auth/register",className:"inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 dark:bg-blue-500 dark:hover:bg-blue-400 transition-colors",children:"Register"})]})})]})})})}function g(e){let{href:r,children:t}=e;return(0,s.jsx)(l(),{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",children:t})}},6104:(e,r,t)=>{"use strict";t.d(r,{IG:()=>c,db:()=>i,j2:()=>o});var s=t(3915),a=t(5317),l=t(6203),n=t(858);let d=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyDI7MAPqIvl1cCkwZl_Nr4bYmOArNzIqzM",authDomain:"tactical-elf-457101-s0.firebaseapp.com",projectId:"tactical-elf-457101-s0",storageBucket:"tactical-elf-457101-s0.firebasestorage.app",messagingSenderId:"695823233926",appId:"1:695823233926:web:aeac2bc2b5069d8baa7207",measurementId:"G-JQF8DMHYSF"}),i=(0,a.aU)(d),o=(0,l.xI)(d),c=(0,n.c7)(d)},7703:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>i,ZB:()=>n,Zp:()=>a,aR:()=>l});var s=t(5155);function a(e){let{className:r,...t}=e;return(0,s.jsx)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm ".concat(r),...t})}function l(e){let{className:r,...t}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-1.5 p-6 ".concat(r),...t})}function n(e){let{className:r,...t}=e;return(0,s.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight ".concat(r),...t})}function d(e){let{className:r,...t}=e;return(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 ".concat(r),...t})}function i(e){let{className:r,...t}=e;return(0,s.jsx)("div",{className:"p-6 pt-0 ".concat(r),...t})}t(2115)},8549:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var s=t(5155),a=t(2115),l=t(4123),n=t(1046),d=t(5494),i=t(9053),o=t(3741),c=t(7703),x=t(3428),u=t(7434);let m=(0,t(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var g=t(5339),h=t(1154),b=t(1788);function f(){let[e,r]=(0,a.useState)([]),[t,f]=(0,a.useState)(null),[p,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)(null),k=(0,a.useCallback)(e=>{let t=e.filter(e=>"application/pdf"===e.type);t.length!==e.length?v("Some selected files were not PDFs and were ignored."):v(null),r(e=>[...e,...t]),f(null)},[]),{getRootProps:N,getInputProps:w,isDragActive:A}=(0,n.VB)({onDrop:k,accept:{"application/pdf":[".pdf"]}}),D=e=>{r(r=>r.filter((r,t)=>t!==e)),f(null)},F=async()=>{if(e.length<2)return void v("Please select at least two PDF files to merge.");y(!0),v(null),f(null);try{let r=await l.PDFDocument.create();for(let t of e){let e=await t.arrayBuffer(),s=await l.PDFDocument.load(e);(await r.copyPages(s,s.getPageIndices())).forEach(e=>r.addPage(e))}let t=await r.save(),s=new Blob([t],{type:"application/pdf"}),a=URL.createObjectURL(s);f(a)}catch(e){console.error("Failed to merge PDFs:",e),v("Failed to merge PDFs. Error: ".concat(e.message))}finally{y(!1)}};return(0,s.jsx)(i.A,{children:(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(d.A,{}),(0,s.jsx)("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,s.jsxs)(c.Zp,{className:"max-w-3xl mx-auto",children:[(0,s.jsxs)(c.aR,{className:"text-center",children:[(0,s.jsx)(x.A,{className:"mx-auto h-10 w-10 text-blue-600 mb-2"}),(0,s.jsx)(c.ZB,{children:"Merge PDFs with CloudPDF"}),(0,s.jsx)(c.BT,{children:"Combine multiple PDF files into one single document using CloudPDF tools."})]}),(0,s.jsxs)(c.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{...N(),className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ".concat(A?"border-blue-500":"border-gray-300 dark:border-gray-600"," border-dashed rounded-md cursor-pointer hover:border-blue-400 dark:hover:border-blue-500 transition-colors bg-gray-50 dark:bg-gray-700/30"),children:[(0,s.jsx)("input",{...w()}),(0,s.jsxs)("div",{className:"space-y-1 text-center",children:[(0,s.jsx)(u.A,{className:"mx-auto h-12 w-12 text-gray-400"}),A?(0,s.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Drop the files here ..."}):(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drag & drop some PDF files here, or click to select files"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"PDF files only"})]})]}),e.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Files to merge (",e.length,"):"]}),(0,s.jsx)("ul",{className:"border border-gray-200 dark:border-gray-700 rounded-md divide-y divide-gray-200 dark:divide-gray-700 max-h-60 overflow-auto",children:e.map((e,r)=>(0,s.jsxs)("li",{className:"px-3 py-2 flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-800 dark:text-gray-200 truncate pr-2",title:e.name,children:e.name}),(0,s.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>D(r),className:"text-gray-400 hover:text-red-500 h-6 w-6",children:(0,s.jsx)(m,{size:16})})]},r))})]}),j&&(0,s.jsxs)("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-2 rounded text-sm text-center flex items-center justify-center gap-2",children:[(0,s.jsx)(g.A,{size:16})," ",j]}),(0,s.jsx)(o.$,{onClick:F,disabled:e.length<2||p,className:"w-full",size:"lg",children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"mr-2 h-5 w-5 animate-spin"})," Merging..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{className:"mr-2 h-5 w-5"})," Merge PDFs"]})}),t&&(0,s.jsxs)("div",{className:"mt-6 text-center p-4 border border-green-400 dark:border-green-700 bg-green-50 dark:bg-green-900/30 rounded-md",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-2",children:"Merging successful!"}),(0,s.jsxs)("a",{href:t,download:"merged.pdf",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-700",children:[(0,s.jsx)(b.A,{className:"mr-2 h-4 w-4"})," Download Merged PDF"]})]})]})]})})]})})}},9053:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var s=t(5155),a=t(2115),l=t(5695),n=t(9576);function d(e){let{children:r}=e,{user:t,loading:d}=(0,n.A)(),i=(0,l.useRouter)();return((0,a.useEffect)(()=>{d||t||i.push("/auth/login")},[t,d,i]),d)?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,s.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-t-2 border-blue-600"})}):t?(0,s.jsx)(s.Fragment,{children:r}):null}},9576:(e,r,t)=>{"use strict";t.d(r,{A:()=>o,AuthProvider:()=>c});var s=t(5155),a=t(2115),l=t(6203),n=t(6104),d=t(5317);let i=(0,a.createContext)(void 0);function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(e){let{children:r}=e,[t,o]=(0,a.useState)(null),[c,x]=(0,a.useState)(!0);(0,a.useEffect)(()=>(0,l.hg)(n.j2,e=>{o(e),x(!1)}),[]);let u=async(e,r)=>{try{let t=await (0,l.eJ)(n.j2,e,r),s=t.user;if(s){let e=(0,d.H9)(n.db,"users",s.uid);await (0,d.BN)(e,{uid:s.uid,email:s.email,createdAt:(0,d.O5)()}),console.log("User document created in Firestore for UID:",s.uid)}return t}catch(e){throw console.error("Registration and Firestore doc creation failed:",e),e}};return(0,s.jsx)(i.Provider,{value:{user:t,loading:c,login:(e,r)=>(0,l.x9)(n.j2,e,r),register:u,logout:()=>(0,l.CI)(n.j2)},children:!c&&r})}}},e=>{var r=r=>e(e.s=r);e.O(0,[992,158,183,822,638,759,441,684,358],()=>r(5273)),_N_E=e.O()}]);