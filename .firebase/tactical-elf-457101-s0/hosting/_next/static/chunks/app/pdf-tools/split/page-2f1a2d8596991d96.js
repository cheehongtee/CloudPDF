(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[274],{237:(e,r,t)=>{Promise.resolve().then(t.bind(t,1084))},1084:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var a=t(5155),s=t(2115),l=t(4123),n=t(1046),i=t(4014),d=t(5404),c=t(9280);t(8851),t(2465);var o=t(5494),u=t(9053),x=t(3741),m=t(7703),g=t(3408),h=t(2337),p=t(7434),b=t(1154),f=t(5339),j=t(1788);function y(){let[e,r]=(0,s.useState)(null),[t,i]=(0,s.useState)(null),[y,v]=(0,s.useState)(""),[N,k]=(0,s.useState)(null),[w,A]=(0,s.useState)(!1),[F,P]=(0,s.useState)(null),[D,S]=(0,s.useState)(null),I=(0,s.useCallback)(e=>{if(0===e.length)return;let t=e[0];"application/pdf"===t.type?(r(t),P(null),S(null),k(null),v(""),i(null)):(P("Please select a valid PDF file."),r(null))},[]),{getRootProps:E,getInputProps:C,isDragActive:z}=(0,n.VB)({onDrop:I,accept:{"application/pdf":[".pdf"]},multiple:!1}),_=(e,r)=>{let t=new Set;for(let a of e.split(",")){let e=a.trim();if(e.includes("-")){let[a,s]=e.split("-"),l=parseInt(a,10),n=parseInt(s,10);if(isNaN(l)||isNaN(n)||l<1||n>r||l>n)return P("Invalid range: ".concat(e,". Page numbers must be between 1 and ").concat(r,".")),null;for(let e=l;e<=n;e++)t.add(e-1)}else{let a=parseInt(e,10);if(isNaN(a)||a<1||a>r)return P("Invalid page number: ".concat(e,". Must be between 1 and ").concat(r,".")),null;t.add(a-1)}}return 0===t.size?(P("No valid pages selected."),null):Array.from(t).sort((e,r)=>e-r)},R=async()=>{if(!e||!t)return void P("Please select a PDF file first.");if(!y)return void P("Please specify the page range to extract.");let r=_(y,t);if(r){A(!0),P(null),k(null);try{let t=await e.arrayBuffer(),a=await l.PDFDocument.load(t),s=await l.PDFDocument.create();if((await s.copyPages(a,r)).forEach(e=>s.addPage(e)),0===s.getPageCount())throw Error("No pages were selected or copied.");let n=await s.save(),i=new Blob([n],{type:"application/pdf"}),d=URL.createObjectURL(i);k(d)}catch(e){console.error("Failed to split PDF:",e),P("Failed to split PDF. Error: ".concat(e.message))}finally{A(!1)}}};return(0,a.jsx)(u.A,{children:(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,a.jsxs)(m.Zp,{className:"max-w-3xl mx-auto",children:[(0,a.jsxs)(m.aR,{className:"text-center",children:[(0,a.jsx)(g.A,{className:"mx-auto h-10 w-10 text-blue-600 mb-2"}),(0,a.jsx)(m.ZB,{children:"Split PDFs with CloudPDF"}),(0,a.jsx)(m.BT,{children:"Extract specific pages from a PDF document using CloudPDF tools."})]}),(0,a.jsxs)(m.Wu,{className:"space-y-6",children:[!e&&(0,a.jsxs)("div",{...E(),className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ".concat(z?"border-blue-500":"border-gray-300 dark:border-gray-600"," border-dashed rounded-md cursor-pointer hover:border-blue-400 dark:hover:border-blue-500 transition-colors bg-gray-50 dark:bg-gray-700/30"),children:[(0,a.jsx)("input",{...C()}),(0,a.jsxs)("div",{className:"space-y-1 text-center",children:[(0,a.jsx)(h.A,{className:"mx-auto h-12 w-12 text-gray-400"}),z?(0,a.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Drop the PDF here ..."}):(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drag & drop a PDF file here, or click to select a file"})]})]}),e&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-md dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 truncate",title:e.name,children:e.name})]}),(0,a.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>r(null),children:"Change File"})]}),(0,a.jsx)("div",{className:"border rounded-md p-2 max-h-80 overflow-auto bg-gray-100 dark:bg-gray-800",children:D?(0,a.jsx)("p",{className:"text-center text-red-600 dark:text-red-400 p-4",children:D}):(0,a.jsx)(d.A,{file:e,onLoadSuccess:function(e){let{numPages:r}=e;i(r),v("1-".concat(r)),S(null)},onLoadError:function(e){console.error("Error loading PDF preview:",e),S("Failed to load PDF preview."),i(null)},loading:(0,a.jsx)(b.A,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto my-4"}),children:(0,a.jsx)(c.A,{pageNumber:1,scale:.5})})}),t&&(0,a.jsxs)("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:["Total pages: ",t]})]}),e&&t&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"pageRange",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pages to Extract"}),(0,a.jsx)("input",{type:"text",id:"pageRange",value:y,onChange:e=>v(e.target.value),placeholder:"e.g., 1-3, 5, 8-10",className:"block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white p-2",required:!0}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Enter page numbers or ranges separated by commas (e.g., 1, 3-5, 7)."})]}),F&&(0,a.jsxs)("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-2 rounded text-sm text-center flex items-center justify-center gap-2",children:[(0,a.jsx)(f.A,{size:16})," ",F]}),e&&(0,a.jsx)(x.$,{onClick:R,disabled:!e||w||!y||!t,className:"w-full",size:"lg",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"mr-2 h-5 w-5 animate-spin"})," Splitting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.A,{className:"mr-2 h-5 w-5"})," Split PDF"]})}),N&&(0,a.jsxs)("div",{className:"mt-6 text-center p-4 border border-green-400 dark:border-green-700 bg-green-50 dark:bg-green-900/30 rounded-md",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-2",children:"Splitting successful!"}),(0,a.jsxs)("a",{href:N,download:"".concat((null==e?void 0:e.name.replace(".pdf",""))||"split","_pages_").concat(y.replace(/[^0-9a-zA-Z,-]/g,"_"),".pdf"),className:"inline-flex items-center justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-700",children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Download Split PDF"]})]})]})]})})]})})}i.EA.workerSrc="//unpkg.com/pdfjs-dist@".concat(i.rE,"/build/pdf.worker.min.mjs")},3741:(e,r,t)=>{"use strict";t.d(r,{$:()=>s});var a=t(5155);function s(e){let{className:r,variant:t="default",size:s="default",children:l,...n}=e,i={default:"bg-blue-600 text-white hover:bg-blue-700/90 dark:bg-blue-500 dark:hover:bg-blue-400/90",outline:"border border-gray-300 dark:border-gray-600 bg-transparent hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100",ghost:"hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"},d={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"},c=i[t]||i.default,o=d[s]||d.default;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background dark:focus-visible:ring-offset-gray-800"," ").concat(c," ").concat(o," ").concat(r).trim(),...n,children:l})}t(2115)},5494:(e,r,t)=>{"use strict";t.d(r,{A:()=>g});var a=t(5155),s=t(6874),l=t.n(s),n=t(9576),i=t(5695),d=t(3783),c=t(7434),o=t(3428),u=t(3408),x=t(4835),m=t(6766);function g(){let{user:e,logout:r}=(0,n.A)(),t=(0,i.useRouter)(),s=async()=>{try{await r(),t.push("/auth/login")}catch(e){console.error("Failed to log out",e)}};return(0,a.jsx)("nav",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(l(),{href:"/",className:"flex items-center",children:(0,a.jsx)(m.default,{src:"/UOSM_Logo.png",alt:"UOSM Logo",width:100,height:32,className:"h-8 w-auto",style:{objectFit:"contain"}})}),e&&(0,a.jsxs)("div",{className:"hidden md:flex space-x-1 items-center border-l border-gray-200 dark:border-gray-700 pl-4",children:[(0,a.jsxs)(h,{href:"/dashboard",children:[(0,a.jsx)(d.A,{size:18,className:"mr-1"}),"Dashboard"]}),(0,a.jsxs)(h,{href:"/pdf-viewer",children:[(0,a.jsx)(c.A,{size:18,className:"mr-1"}),"Viewer"]}),(0,a.jsxs)(h,{href:"/pdf-tools/merge",children:[(0,a.jsx)(o.A,{size:18,className:"mr-1"}),"Merge"]}),(0,a.jsxs)(h,{href:"/pdf-tools/split",children:[(0,a.jsx)(u.A,{size:18,className:"mr-1"}),"Split"]})]})]}),(0,a.jsx)("div",{className:"flex items-center",children:e?(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"hidden sm:inline text-sm text-gray-600 dark:text-gray-300",children:e.email}),(0,a.jsx)("button",{onClick:s,title:"Logout",className:"flex items-center p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:(0,a.jsx)(x.A,{size:20})})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l(),{href:"/auth/login",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors rounded-md",children:"Login"}),(0,a.jsx)(l(),{href:"/auth/register",className:"inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 dark:bg-blue-500 dark:hover:bg-blue-400 transition-colors",children:"Register"})]})})]})})})}function h(e){let{href:r,children:t}=e;return(0,a.jsx)(l(),{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",children:t})}},6104:(e,r,t)=>{"use strict";t.d(r,{IG:()=>o,db:()=>d,j2:()=>c});var a=t(3915),s=t(5317),l=t(6203),n=t(858);let i=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyDI7MAPqIvl1cCkwZl_Nr4bYmOArNzIqzM",authDomain:"tactical-elf-457101-s0.firebaseapp.com",projectId:"tactical-elf-457101-s0",storageBucket:"tactical-elf-457101-s0.firebasestorage.app",messagingSenderId:"695823233926",appId:"1:695823233926:web:aeac2bc2b5069d8baa7207",measurementId:"G-JQF8DMHYSF"}),d=(0,s.aU)(i),c=(0,l.xI)(i),o=(0,n.c7)(i)},7703:(e,r,t)=>{"use strict";t.d(r,{BT:()=>i,Wu:()=>d,ZB:()=>n,Zp:()=>s,aR:()=>l});var a=t(5155);function s(e){let{className:r,...t}=e;return(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm ".concat(r),...t})}function l(e){let{className:r,...t}=e;return(0,a.jsx)("div",{className:"flex flex-col space-y-1.5 p-6 ".concat(r),...t})}function n(e){let{className:r,...t}=e;return(0,a.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight ".concat(r),...t})}function i(e){let{className:r,...t}=e;return(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 ".concat(r),...t})}function d(e){let{className:r,...t}=e;return(0,a.jsx)("div",{className:"p-6 pt-0 ".concat(r),...t})}t(2115)},9053:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(5155),s=t(2115),l=t(5695),n=t(9576);function i(e){let{children:r}=e,{user:t,loading:i}=(0,n.A)(),d=(0,l.useRouter)();return((0,s.useEffect)(()=>{i||t||d.push("/auth/login")},[t,i,d]),i)?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-t-2 border-blue-600"})}):t?(0,a.jsx)(a.Fragment,{children:r}):null}},9576:(e,r,t)=>{"use strict";t.d(r,{A:()=>c,AuthProvider:()=>o});var a=t(5155),s=t(2115),l=t(6203),n=t(6104),i=t(5317);let d=(0,s.createContext)(void 0);function c(){let e=(0,s.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function o(e){let{children:r}=e,[t,c]=(0,s.useState)(null),[o,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>(0,l.hg)(n.j2,e=>{c(e),u(!1)}),[]);let x=async(e,r)=>{try{let t=await (0,l.eJ)(n.j2,e,r),a=t.user;if(a){let e=(0,i.H9)(n.db,"users",a.uid);await (0,i.BN)(e,{uid:a.uid,email:a.email,createdAt:(0,i.O5)()}),console.log("User document created in Firestore for UID:",a.uid)}return t}catch(e){throw console.error("Registration and Firestore doc creation failed:",e),e}};return(0,a.jsx)(d.Provider,{value:{user:t,loading:o,login:(e,r)=>(0,l.x9)(n.j2,e,r),register:x,logout:()=>(0,l.CI)(n.j2)},children:!o&&r})}}},e=>{var r=r=>e(e.s=r);e.O(0,[825,992,158,309,183,822,402,960,759,693,441,684,358],()=>r(237)),_N_E=e.O()}]);